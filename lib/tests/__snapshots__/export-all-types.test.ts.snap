export const snapshot = {};

snapshot[`export-all-types > shouldExportAllTypes option, non-circular types are exported 1`] = `
'import { makeApi, Zodios, type ZodiosOptions } from "@franklin-ai/zodios";
import { z } from "zod";

type Playlist = Partial<{
  name: string;
  author: Author;
  songs: Array<Song>;
}> &
  Settings;
type Author = Partial<{
  name: (string | null) | number | null;
  title: Title;
  id: Id;
  mail: string;
  settings: Settings;
}>;
type Title = string;
type Id = number;
type Settings = Partial<{
  theme_color: string;
  features: Features;
}>;
type Features = Array<string>;
type Song = Partial<{
  name: string;
  duration: number;
}>;

const Title = z.string();
const Id = z.number();
const Features = z.array(z.string());
const Settings: z.ZodType<Settings> = z
  .object({ theme_color: z.string(), features: Features.min(1) })
  .partial()
  .passthrough();
const Author: z.ZodType<Author> = z
  .object({
    name: z.union([z.string(), z.number()]).nullable(),
    title: Title.min(1).max(30),
    id: Id,
    mail: z.string(),
    settings: Settings,
  })
  .partial()
  .passthrough();
const Song: z.ZodType<Song> = z
  .object({ name: z.string(), duration: z.number() })
  .partial()
  .passthrough();
const Playlist: z.ZodType<Playlist> = z
  .object({ name: z.string(), author: Author, songs: z.array(Song) })
  .partial()
  .passthrough()
  .and(Settings);

export const schemas = {
  Title,
  Id,
  Features,
  Settings,
  Author,
  Song,
  Playlist,
};

const endpoints = makeApi([
  {
    method: "get",
    path: "/example",
    requestFormat: "json",
    response: z
      .object({ playlist: Playlist, by_author: Author })
      .partial()
      .passthrough(),
  },
]);

export const api = new Zodios(endpoints);

export function createApiClient(baseUrl: string, options?: ZodiosOptions) {
  return new Zodios(baseUrl, endpoints, options);
}
'
`;
